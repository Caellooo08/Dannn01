<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Transaction Receipt</title>
  <style>
    /* ---- BASE STYLING ---- */
    body {
      font-family: 'Courier New', monospace;
      font-size: 12px;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    .receipt-container {
      width: 80mm; /* change to 58mm if needed */
      background: #fff;
      margin: 10px auto;
      padding: 10px;
      box-shadow: 0 0 4px rgba(0, 0, 0, 0.2);
      border-radius: 4px;
    }
    .center {
      text-align: center;
    }
    .bold {
      font-weight: bold;
    }
    .line {
      border-top: 1px dashed #000;
      margin: 6px 0;
    }
    .flex {
      display: flex;
      justify-content: space-between;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    td {
      padding: 3px 0;
    }

/* ---- PRINT STYLING ---- */
@media print {
  body {
    background: none;
  }
  .receipt-container {
    box-shadow: none;
    border-radius: 0;
    margin: 0;
  }
  #actions {
    display: none;
  }
}

/* ---- ACTION BUTTONS ---- */
#actions {
  margin-top: 15px;
  text-align: center;
}
#actions button {
  margin: 4px;
  padding: 6px 12px;
  border: none;
  border-radius: 3px;
  background: #007bff;
  color: white;
  cursor: pointer;
}
#actions button:hover {
  background: #0056b3;
}

  </style>
</head>
<body>

  <div class="receipt-container" id="receipt">
    <div class="center">
      <h3>BPC Hotel & Restaurant</h3>
      <small>Bulacan Polytechnic College, Malolos Campus</small><br>
      <small>POS System Receipt</small>
    </div>

<div class="line"></div>

<div class="flex">
  <span>Transaction No:</span>
  <span id="trx-id">TRX-20251028-001</span>
</div>
<div class="flex">
  <span>Date:</span>
  <span id="trx-date">2025-10-28 12:15 PM</span>
</div>
<div class="flex">
  <span>Cashier:</span>
  <span id="cashier-name">Cashier One</span>
</div>

<div class="line"></div>

<table id="item-list">
  <tr>
    <td>Adobo Rice</td>
    <td class="center">x1</td>
    <td class="center">â‚±95.00</td>
  </tr>
  <tr>
    <td>Iced Tea</td>
    <td class="center">x1</td>
    <td class="center">â‚±40.00</td>
  </tr>
  <tr>
    <td>Service Fee</td>
    <td class="center">x1</td>
    <td class="center">â‚±55.00</td>
  </tr>
</table>

<div class="line"></div>

<div class="flex"><span>Subtotal:</span><span>â‚±190.00</span></div>
<div class="flex"><span>Cash:</span><span>â‚±200.00</span></div>
<div class="flex"><span>Change:</span><span>â‚±10.00</span></div>

<div class="line"></div>

<div class="center">
  <p>Thank you for staying with us!</p>
  <p>Visit again soon.</p>
</div>

  </div>

  <div id="actions">
    <button onclick="printReceipt()">ðŸ–¨ Print Receipt</button>
    <button onclick="sendEmail()">ðŸ“§ Send to Email</button>
    <button onclick="closeWindow()">âœ– Close</button>
  </div>

  <script>
    // --- PRINT RECEIPT ---
    function printReceipt() {
      window.print();
      setTimeout(() => {
        alert('Transaction confirmed and receipt printed!');
      }, 1000);
    }

    // --- SEND TO EMAIL (placeholder) ---
    function sendEmail() {
      const email = prompt("Enter customer email address:");
      if (email) {
        // Grab the receipt content
        const receiptContent = document.getElementById("receipt").innerText;

        // Placeholder for sending email via an API
        console.log("Email to send:", email);
        console.log("Receipt content:\n", receiptContent);

        // Simulated action
        alert(`Receipt sent to ${email}:\n\n${receiptContent}`);
      }
    }

    // Attach event listener to button
    document.getElementById("sendEmailBtn").addEventListener("click", sendEmail);

    

    // --- CLOSE RECEIPT WINDOW ---
    function closeWindow() {
      if (confirm("Are you sure you want to close this receipt?")) {
        window.close();
      }
    }

    // --- ESC KEY TO CLOSE WINDOW ---
    document.addEventListener("keydown", function(e) {
      if (e.key === "Escape") {
        closeWindow();
      }
    });
  </script>

</body>
</html>